{% extends 'base.html.twig' %}
{% block title %}Ekkitugol - Leçons
{% endblock %}

{% block body %}
	<div class="d-flex flex-column justify-content-between vh-100">
		<div class="container flex-fluid">
			<div class="d-flex align-items-center w-100" id="progressContainer" data-complete-url="#">
				<a href="{{path('app_lessons_phrases')}}" class="bi bi-x text-center fs-1 me-2 text-secondary text-decoration-none"></a>
				<div class="relative progress w-75 flex-fill" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
					<div class="progress-bar text-bg-success"></div>
				</div>
			</div>
			<div class="text-center my-4">
				<h2>Ecrivez en français</h2>
			</div>

			<div class="row justify-content-center">
				<div class="col-md-6">
					<div class="quiz-container text-center">

						<div class="sound-icon mb-5">
							<a href="#" class="btn btn-primary fs-1 mt-5 d-inline-flex align-items-center justify-content-center p-3" id="playBtn">
								<i class="bi bi-volume-up-fill"></i>
							</a>
						</div>

						<div
							class="mb-5" id="phrase">
							{# This button's text should be dynamically set by your lesson data #}
							<button class="btn btn-lg btn-outline-secondary" disabled>Chargement...</button>
						</div>


						{# This is where users will drag words to form the sentence #}
						<div
							id="dropTarget" class="drop-zone p-3 mb-5 d-flex flex-wrap align-items-center justify-content-center gap-2 border rounded" style="min-height: 60px;">{# Dropped words will appear here #}
						</div>

						{# Word bank - these buttons will be draggable #}
						<div
							id="answerBtnsContainer" class="word-bank mt-4 d-flex justify-content-center flex-wrap gap-2 p-3 border rounded" style="min-height: 60px;">{# Word buttons will be populated by lesson.js #}
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="container-fluid d-flex flex-column" id="skipOrCheckContainer">
			<hr class="mt-5 w-100">
			<div class="d-flex justify-content-between w-100 mb-5 mt-2">
				<a href="#" class="btn btn-warning text-dark fs-5 px-5 py-3 ms-5" id="skipBtn" role="button" data-lessons-url="{{ path('app_learn') }}">Passer</a>
				<button class="btn btn-success fs-5 px-5 py-3 me-5" id="checkBtn">Vérifier</button>
			</div>
		</div>

	</div>
	{% block script %} <script>
																			const phrasesData = {{ phrasesArray|json_encode|raw|default('[]') }};
																		</script
						 <script src="{{ asset('js/lesson-utils.js') }}"></script>
		 <script src="{{asset('js/sentences.js')}}" ></script>

	{% endblock %}
{% endblock %}
